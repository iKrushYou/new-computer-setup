[general]
version = 4
name = Creality Ender-3_settings
definition = creality_ender3

[metadata]
type = definition_changes
setting_version = 22

[values]
extruders_enabled_count = 1
machine_start_gcode = ; Script based on an original created by tjjfvi (https://github.com/tjjfvi)
	; An up-to-date version of the tjjfvi's original script can be found
	; here:  https://csi.t6.fyi/
	; Note - This script will not work in Cura V4.2 and above!
	; max_feedrate_z_override = {max_feedrate_z_override}
	; retraction_amount = {retraction_amount}
	; retraction_hop = {retraction_hop}
	; retraction_hop_enabled = {retraction_hop_enabled}
	; retraction_prime_speed = {retraction_prime_speed}
	; retraction_retract_speed = {retraction_retract_speed}
	; retraction_speed = {retraction_speed}
	; speed_travel = {speed_travel}
	; retraction_enable = {retraction_enable}
	; layer_height = {layer_height}
	; smooth_spiralized_contours = {smooth_spiralized_contours}
	
	; Ender 3 Custom Start G-code
	
	M104 S{material_print_temperature_layer_0} ; Set Extruder temperature
	M140 S{material_bed_temperature_layer_0} ; Set Heat Bed temperature
	G28 ; Home all axes
	
	M109 S150; ensure extruder temp is > 150
	M190 S40 ; ensure bed temp is > 40
	M104 S{material_print_temperature_layer_0} ; Set Extruder temperature again
	M140 S{material_bed_temperature_layer_0} ; Set Bed temperature again
	
	G29 A ; Activate bed mesh -level (BL-Touch)
	G29 L0 ; Load mesh from slot 0
	; G29 J3 ; Probe for bed tilt (remove semicolon to enable)
	G1 X245 Y218.5 Z1 F5000.0
	G92 E0 ; Reset extruder
	
	M109 S{material_print_temperature_layer_0} ; Wait for Extruder temperature
	M190 S{material_bed_temperature_layer_0} ; Wait for bed temperature
	
	G1 Z1.0 F3000 ; move z up little to prevent scratching of surface
	G1 X225 Y200 Z0.3 F5000.0 ; move to start-line position
	
	G1 X225 Y20 Z0.3 F1500.0 E15 ; draw 1st line
	G1 X222.2 Y20 Z0.3 F5000.0 ; move to side a little
	G1 X222.2 Y200 Z0.3 F1500.0 E30 ; draw 2nd line
	G92 E0 ; reset extruder
	G1 Z1.0 F3000 ; move z up little to prevent scratching of surface
	
	; End of custom start GCode

